# Phase 5 快速測試指南

## 🚀 5 分鐘快速驗證

### 前置準備 (1 分鐘)

1. **啟動開發伺服器**
   ```bash
   cd client
   npm run dev
   ```

2. **確保測試資料存在**
   - 至少有 1 個 `is_active = true` 的遊戲
   - 該遊戲有對應的 game_packages
   - 有可用的 payment_method 資料

### 核心功能快速測試 (4 分鐘)

#### ✅ 測試 1: 商店瀏覽 (30 秒)
1. 前往 `http://localhost:3000/shop`
2. **驗證**: 顯示遊戲卡片且可點擊

#### ✅ 測試 2: 遊戲詳細頁面 (30 秒)
1. 點擊任一遊戲卡片
2. **驗證**: 進入遊戲詳細頁面，顯示遊戲資訊

#### ✅ 測試 3: 未登入狀態 (30 秒)
1. 確保未登入 (清除 cookies 或無痕模式)
2. 檢查訂單表單區域
3. **驗證**: 顯示「請先登入才能下訂單」

#### ✅ 測試 4: 登入流程 (1 分鐘)
1. 點擊「前往登入」
2. 使用測試帳號登入
3. **驗證**: 成功登入，顯示使用者資訊

#### ✅ 測試 5: 訂單表單 (1.5 分鐘)
1. 返回遊戲詳細頁面
2. 檢查表單載入
3. 填寫表單：
   - 選擇套餐
   - 選擇付款方式  
   - 填入角色 ID: `test123`
4. 點擊「建立訂單」
5. **驗證**: 顯示成功訊息

#### ✅ 測試 6: 管理後台驗證 (30 秒)
1. 用管理員帳號登入
2. 前往 `/admin/orders`
3. **驗證**: 看到剛建立的測試訂單

---

## 🔧 快速問題排查

### 常見問題及解決方案

#### 問題 1: 商店頁面空白
**可能原因**: 資料庫中沒有 `is_active = true` 的遊戲
**解決方案**: 在資料庫中插入測試遊戲資料

#### 問題 2: 訂單表單不顯示套餐
**可能原因**: 該遊戲沒有對應的 game_packages
**解決方案**: 檢查 game_packages 表資料

#### 問題 3: 付款方式為空
**可能原因**: allow_payment_method 表沒有設定
**解決方案**: 建立遊戲與付款方式的關聯

#### 問題 4: 訂單建立失敗
**可能原因**: API 認證問題或資料驗證失敗
**解決方案**: 檢查瀏覽器 Console 錯誤訊息

---

## 📱 行動裝置快速測試

1. **響應式測試** (30 秒)
   - 調整瀏覽器視窗到手機尺寸
   - 檢查所有頁面佈局是否正常

2. **觸控操作測試** (30 秒)
   - 測試按鈕點擊
   - 測試下拉選單操作
   - 測試表單輸入

---

## ⚡ 效能快速檢查

使用瀏覽器開發者工具 Network 標籤：

1. **頁面載入時間**
   - 商店頁面 < 2 秒
   - 遊戲詳細頁面 < 1 秒

2. **API 回應時間**
   - 套餐載入 < 500ms
   - 訂單建立 < 1 秒

---

## 🛡️ 安全性快速驗證

1. **未授權存取測試** (1 分鐘)
   ```bash
   # 使用 curl 測試未授權 API 存取
   curl -X POST http://localhost:3000/api/orders \
     -H "Content-Type: application/json" \
     -d '{"test": "data"}'
   ```
   **預期**: 回傳 401 錯誤

2. **資料驗證測試** (30 秒)
   - 嘗試提交空白表單
   - **預期**: 顯示驗證錯誤訊息

---

## ✅ 快速檢查清單

- [ ] 商店頁面顯示遊戲列表
- [ ] 遊戲卡片可點擊進入詳細頁面
- [ ] 未登入時正確引導登入
- [ ] 登入後訂單表單正常顯示
- [ ] 套餐和付款方式正確載入
- [ ] 訂單可成功建立
- [ ] 管理後台顯示新訂單
- [ ] 響應式設計正常運作
- [ ] 基本安全性驗證通過

---

## 🆘 如果測試失敗

1. **檢查 Console 錯誤**
   - 打開瀏覽器開發者工具
   - 查看 Console 標籤的錯誤訊息

2. **檢查 Network 請求**
   - 查看 API 請求是否成功
   - 檢查回應狀態碼和內容

3. **檢查資料庫連線**
   - 確認 Supabase 連線正常
   - 驗證環境變數設定

4. **重新整理快取**
   - 清除瀏覽器快取
   - 重新啟動開發伺服器

如果問題持續存在，請參考完整的測試計劃 (`phase5-test-plan.md`) 進行詳細排查。 